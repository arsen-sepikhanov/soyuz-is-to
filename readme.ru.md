Когда-то давно, когда я ходил на конференции, я понял - в мире java все серьезно. Почти все занимаются хайлоадом, тюнят GC, а в перерывах капаются в байткоде.
Похоже я (и компания, в которой я работаю) попадаем в то маленькое почти, у которых все несколько иначе. У нас все до невозможности скучно - битики, байтики, формочки, квадратики.
Мы создаем бизнес системы, в которых почти всегда пользователи заводят байты информации, которые потом видят другие пользователи, чтобы завести еще несколько байтов.
Такие системы относительно просты - нужно просто делать все спокойно и аккуратно. Одна из довольно частых операций - преобразовать данные одного вида в даные другого вида. 
Например, List<User> в Set<User.Id>, или сгруппировать по ID (Map<User.Id, User>). Для операций преобразования я написал небольшую, но очень полезную билблиотеку, о которой пойдет речь ниже.

Данная статья не имеет прикладной характер и, надеюсь, будет полезна обычным разработчикам в их обычной жизни.

# С чего все начиналось...
Как-то в 15 или 20 раз я лез в гугл, чтобы узнать, как преобразовать в java String в Integer. Потратил в очередной раз секунд 20 - 30 своей жизни, 
нашел [крайне популярный]([https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java]) вопрос на StackOverflow,
но задумался "А что если сделать библиотеку, которая будет преобразовывать `A` в `Б`" по очень понятным правилам (так, что вам не прийдется это искать в следующий раз)? 
Ну а под понятие преобразования удачно попадает довольно много функционала (например, инициализация объектов), потому функционал библиотеки получился довольно обширный (ну чууууточку не дотягивает до Guava =).
А сейчас шаг влево (почти в пропасть)

## is
Вообще-то помимо конвертации (класс to), есть еще класс is - проверка на truthy. По-хорошему это несвязанные вещи. Но дело в том, что они настолько простые и базовые, что я их объединил в одну библиотку (подход не apache commons, а скорее google guava).
Потратим на класс is три минуты драгоценного времени. is проверяет, что `object != null && дополнительная логика` - очень похожее делает JavaScript и Groovy. Вот в таких случаях `is.t(object)` вернет `true`:
```
тип object'а | условие
текст | != ""
число | != 0
коллекция, мапа | не пустая
файл | существует
```
Интересный момент с интерфейсом `TruthyCastableI`. Он нужен, когда вы хотите, чтобы is.t умел проверять ваш кастомный объект (например, обертка на Id != null && != 0).
Вообще класс is оказался очень простым и очень полезеным на парктике.

## to
С `is` закончили. А теперь мясо - `to`. Вы когда-нибудь... нет, не так. Когда вы в последний раз лезли в google / stackoverflow, чтобы скопировать три строки кода, которые преобразуют один тип в другой? 
Например, `java.util.Date` в `java.time.LocalDateTime`? Или массив в список? Или String в Integer (я, например, понятия не имею, как это делать и я (не один такой)[https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java] ).
В десятый - двадцатый - энный раз гугля эту информацию у меня в голове родился класс `to` - класс, который будет преобразовывать А в Б по правилу: `to.$requredType($sourceType)`, где `$requredType` то, что нам нужно (Б), а `$sourceType` - то, что у нас есть (А).
 
Посмотрим немного примеров: 
 
 
Вообще в `to` много чего есть (простые преобразования, инициализация объектов, преобразования с модификацией и даже немного функционального программирования), 
но почти все методы удовлетворяют базовому правилу: `to.$requredType($sourceType)`, `$requredType` - то, что нам нужно, а `$sourceType` - то, что у нас есть.

# soyuz-is-to
Вы знаете как преобразовать в java String в Integer? Я пишу на java уже много лет, но понятия не имею, как это делать.
И я (не один такой)[https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java] (почти 5 000 000 просмотров о чем-то говорит).
Десятый или пятнадцатый раз гугля как преобразовать X в Y (речь, конечно, не только о String -> Integer), я решил что можно это упростить.

Хочу представить вам **новую библиотеку** (СТОП! Придержим помидоры еще пару минут), которая ну оооочень простая и ну очень полезная мне (как автору) ну и, надеюсь, вам.

# soyuz-is-to
Состоит библиотека из двух классов:
 1. is - truthy checks (`x != null && ...`) в стиле JavaScript / Groovy - не относится ко вступлению. Про
This library serves two important features:
 1. is - truthy checks (`x != null && ...`) - very close to JavaScript
 2. to - a lot of useful functions to convert `X` to `Y` (e.g. `Set` to `List`)

## is
Is is very simple. It's just `!= null` check and additional logic (like not empty). Please read sources - it's only few lines of code.

## to
Do you know how to convert `String` to `Long`? Well... it's easy. What about `Date` to `LocalDate`? Or `array` to `stream`?
Most of the time we convert data from `X` type to `Y`. `soyuz-is-to` simplifies your life:

1. Simple way to convert `X` to `Y`
2. Simple way to init `Map`, `List`, `Set`
3. \+ a little bit functional programming...

## to intro
Basic rule: `to.$requredType($sourceType)`. E.g. we want to convert `java.util.Date now` to `java.time.LocalDate`:
```
LocalDate date = to.localDate(now)
```

## to init

## to convert

## to functional

## How to use
### Maven
```
<dependency>
    <groupId>io.thedocs</groupId>
    <artifactId>soyuz-is-to</artifactId>
    <version>0.58</version>
</dependency>
```

### Gradle
```
repositories {
    mavenCentral()
}

dependencies {
    compile 'io.thedocs:soyuz-is-to:0.58'
}
```